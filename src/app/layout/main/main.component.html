<!-- Main layout container -->
<div class="flex flex-col min-h-screen bg-gray-900">
  <!-- Fixed header at the top -->
  <app-header class="sticky top-0 z-20"></app-header>

  <!-- Content area (sidebar + main content) -->
  <div class="flex flex-1">
    <!-- Sidebar for desktop - fixed position -->
    <aside class="hidden md:block fixed top-16 bottom-0 w-64 z-10 h-[calc(100vh-64px)] bg-gray-800" [ngClass]="{'w-64': isLargeScreen, 'w-0': !isLargeScreen}">
      <app-sidebar></app-sidebar>
    </aside>

    <!-- Mobile sidebar overlay (conditionally shown) -->
    <div *ngIf="isMobileMenuOpen" class="fixed inset-0 z-30 md:hidden">
      <!-- Dark overlay behind sidebar -->
      <div class="fixed inset-0 bg-black bg-opacity-50" (click)="closeMobileMenu()"></div>
      <!-- Sidebar content -->
      <div class="fixed inset-y-0 left-0 z-40 w-64 bg-gray-800">
        <app-sidebar></app-sidebar>
      </div>
    </div>

    <!-- Main content area + footer wrapper -->
    <div class="flex-1 w-full md:pl-64 flex flex-col min-h-screen">
      <!-- Main content -->
      <main class="flex-1 bg-white dark:bg-gray-900">
        <div class="container mx-auto px-4 py-6 md:py-8 max-w-7xl">
          <router-outlet></router-outlet>
        </div>
      </main>

      <!-- Footer -->
      <app-footer class="bg-gray-800"></app-footer>
    </div>
  </div>
</div>
